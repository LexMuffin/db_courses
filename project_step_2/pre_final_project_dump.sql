-- MySQL dump 10.13  Distrib 8.0.21, for Linux (x86_64)
--
-- Host: localhost    Database: project_comp_shop
-- ------------------------------------------------------
-- Server version	8.0.21-0ubuntu0.20.04.3

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `addresses`
--

DROP TABLE IF EXISTS `addresses`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `addresses` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `city_id` int unsigned NOT NULL,
  `street_id` int unsigned NOT NULL,
  `house` smallint unsigned NOT NULL,
  `flat` smallint unsigned NOT NULL,
  PRIMARY KEY (`id`),
  KEY `address_city_id_fk` (`city_id`),
  KEY `address_street_id_fk` (`street_id`),
  CONSTRAINT `address_city_id_fk` FOREIGN KEY (`city_id`) REFERENCES `cities` (`id`),
  CONSTRAINT `address_street_id_fk` FOREIGN KEY (`street_id`) REFERENCES `streets` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=51 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Адресс клиента';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `addresses`
--

LOCK TABLES `addresses` WRITE;
/*!40000 ALTER TABLE `addresses` DISABLE KEYS */;
INSERT INTO `addresses` VALUES (1,3,7,40,90),(2,6,13,4,6),(3,4,17,16,35),(4,4,4,88,84),(5,8,15,96,22),(6,3,5,75,20),(7,1,12,93,125),(8,3,22,137,99),(9,2,17,33,83),(10,6,14,130,113),(11,4,17,55,26),(12,5,13,71,79),(13,6,20,70,20),(14,7,21,126,44),(15,7,4,106,32),(16,1,6,95,6),(17,7,11,63,48),(18,2,7,55,114),(19,3,9,14,43),(20,7,21,57,100),(21,6,6,30,72),(22,3,6,73,85),(23,5,12,50,105),(24,6,13,38,33),(25,6,22,13,116),(26,1,1,115,64),(27,1,23,109,44),(28,8,10,58,77),(29,7,20,133,15),(30,6,15,64,71),(31,4,3,122,97),(32,4,11,128,120),(33,8,17,51,84),(34,2,23,146,118),(35,6,7,81,128),(36,3,21,125,128),(37,6,8,147,50),(38,1,23,89,77),(39,2,13,84,5),(40,1,2,31,68),(41,6,1,67,54),(42,5,4,138,35),(43,1,22,126,74),(44,6,12,123,91),(45,5,17,55,70),(46,8,4,31,71),(47,1,12,75,57),(48,1,19,60,15),(49,6,8,36,26),(50,8,6,56,36);
/*!40000 ALTER TABLE `addresses` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Temporary view structure for view `best_3_employee`
--

DROP TABLE IF EXISTS `best_3_employee`;
/*!50001 DROP VIEW IF EXISTS `best_3_employee`*/;
SET @saved_cs_client     = @@character_set_client;
/*!50503 SET character_set_client = utf8mb4 */;
/*!50001 CREATE VIEW `best_3_employee` AS SELECT 
 1 AS `Номер_сотрудника`,
 1 AS `Имя`,
 1 AS `Должность`,
 1 AS `Количество_продаж`*/;
SET character_set_client = @saved_cs_client;

--
-- Temporary view structure for view `bigger_than_avg`
--

DROP TABLE IF EXISTS `bigger_than_avg`;
/*!50001 DROP VIEW IF EXISTS `bigger_than_avg`*/;
SET @saved_cs_client     = @@character_set_client;
/*!50503 SET character_set_client = utf8mb4 */;
/*!50001 CREATE VIEW `bigger_than_avg` AS SELECT 
 1 AS `Номер_заказа`,
 1 AS `Время_доставки`*/;
SET character_set_client = @saved_cs_client;

--
-- Table structure for table `catalogs`
--

DROP TABLE IF EXISTS `catalogs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `catalogs` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(120) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `catalogs_name_uqidx` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Каталог товара';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `catalogs`
--

LOCK TABLES `catalogs` WRITE;
/*!40000 ALTER TABLE `catalogs` DISABLE KEYS */;
INSERT INTO `catalogs` VALUES (8,'SSD накопители'),(5,'Блоки питания'),(3,'Видеокарты'),(9,'Жесткие диски'),(6,'Корпуса'),(2,'Материнские платы'),(4,'Оперативная память'),(7,'Охлаждения компьютера'),(1,'Процессоры'),(10,'Устройства расширения и апгрейд');
/*!40000 ALTER TABLE `catalogs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `cities`
--

DROP TABLE IF EXISTS `cities`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `cities` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(120) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `cities_name_uqidx` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Города проживания пользователей';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `cities`
--

LOCK TABLES `cities` WRITE;
/*!40000 ALTER TABLE `cities` DISABLE KEYS */;
INSERT INTO `cities` VALUES (5,'Видное'),(6,'Дзержинский'),(7,'Жуковский'),(4,'Королев'),(1,'Москва'),(2,'Наро-Фоминск'),(8,'Подольск'),(3,'Пушкино');
/*!40000 ALTER TABLE `cities` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `clients`
--

DROP TABLE IF EXISTS `clients`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `clients` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `address_id` int unsigned NOT NULL,
  `phone` varchar(50) NOT NULL,
  `email` varchar(100) DEFAULT NULL,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `client_adress_id_fk` (`address_id`),
  CONSTRAINT `client_adress_id_fk` FOREIGN KEY (`address_id`) REFERENCES `addresses` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=51 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Информация о покупателе';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `clients`
--

LOCK TABLES `clients` WRITE;
/*!40000 ALTER TABLE `clients` DISABLE KEYS */;
INSERT INTO `clients` VALUES (1,'Андрей','Дугин',38,'(796)013-6244','kemmer.julio@example.org','2004-12-29 12:18:14','2019-01-31 00:00:00'),(2,'Матвей','Хомяков',41,'482.788.2512x84436','bogan.geovanny@example.com','1979-12-13 12:04:15','2019-01-31 00:00:00'),(3,'Иван','Алексеев',48,'(148)240-6256','jennings20@example.net','2002-10-24 19:22:26','2019-01-31 00:00:00'),(4,'Никита','Швецов',30,'+69(8)1421342078','carlie52@example.net','1987-11-20 23:54:12','2019-01-31 00:00:00'),(5,'Юрий','Кондратьев',26,'809-911-0455x070','assunta.trantow@example.net','1996-01-31 08:24:06','2019-01-31 00:00:00'),(6,'Екатерина','Кравченко',20,'540.538.8796x1072','kessler.amira@example.org','2019-09-06 17:03:26','2019-01-31 00:00:00'),(7,'Давид','Болотов',12,'268.252.1117x33782','vherzog@example.com','1981-09-11 19:31:33','2019-01-31 00:00:00'),(8,'Илья','Данилина',37,'594.589.4495x80481','palma.langosh@example.com','2001-08-11 03:37:07','2019-01-31 00:00:00'),(9,'Аркадий','Ильин',24,'(197)242-8834x4031','jaylon.zboncak@example.com','2005-08-30 12:12:41','2019-01-31 00:00:00'),(10,'Всеволод','Белов',43,'774.072.8748','koss.mikel@example.org','2001-09-01 22:54:30','2019-01-31 00:00:00'),(11,'Артемий','Гусев',11,'+93(4)6261077202','daniel.adrianna@example.com','2001-09-18 15:09:00','2019-01-31 00:00:00'),(12,'Ольга','Фидлер',32,'1-180-277-5906','keaton86@example.com','2010-07-28 07:04:50','2019-01-31 00:00:00'),(13,'Исаак','Окунев',46,'380-116-4989x0325','jacobi.juliana@example.com','2007-02-28 07:12:04','2019-01-31 00:00:00'),(14,'Юлия','Мельникова',13,'(713)258-9169','streich.pauline@example.com','1977-12-08 06:53:14','2019-01-31 00:00:00'),(15,'Англелина','Петрова',4,'473-150-4573','deshawn.kovacek@example.net','1984-06-11 05:48:52','2019-01-31 00:00:00'),(16,'Михаил','Трикоз',19,'1-761-927-7969','russel.raleigh@example.org','1987-01-01 17:53:46','2019-01-31 00:00:00'),(17,'Екатерина','Жаркова',21,'760.199.8015x93016','nasir31@example.net','1975-05-01 20:29:42','2019-01-31 00:00:00'),(18,'Евгений','Лесной',31,'1-815-559-1470','mbradtke@example.org','2001-05-10 05:25:04','2019-01-31 00:00:00'),(19,'Степан','Иванов',27,'1-836-631-3329x9858','destini.mclaughlin@example.org','1981-02-25 20:04:46','2019-01-31 00:00:00'),(20,'Никита','Пинчук',7,'878-274-6054x1729','jan.stamm@example.com','1987-07-25 11:39:42','2019-01-31 00:00:00'),(21,'Александр','Парфенов',28,'03956732841','keon.muller@example.org','2013-06-15 00:09:01','2019-01-31 00:00:00'),(22,'Олег','Мартынов',8,'918.311.4891','satterfield.gisselle@example.org','1988-09-18 00:12:39','2019-01-31 00:00:00'),(23,'Полина','Чернышев',45,'017-487-8334x621','stone30@example.org','2015-03-17 07:22:36','2019-01-31 00:00:00'),(24,'Христос','Сурков',14,'241-436-8398x350','tess.mueller@example.net','1984-09-20 03:23:48','2019-01-31 00:00:00'),(25,'Фредерик','Кармазин',44,'922.126.7164','hackett.heaven@example.org','2012-06-22 16:43:06','2019-01-31 00:00:00'),(26,'Джастин','Дягилев',1,'(572)322-8661x0758','burnice.lakin@example.net','1985-10-26 08:24:21','2019-01-31 00:00:00'),(27,'Любмила','Попова',5,'(403)177-0051x394','owest@example.com','1975-11-28 02:26:53','2019-01-31 00:00:00'),(28,'Руслан','Голенищев',25,'752-839-3436x68521','silas.wilkinson@example.org','1999-05-20 10:38:15','2019-01-31 00:00:00'),(29,'Андрей','Яворский',6,'104.354.1192','grady.rae@example.com','1992-12-08 17:55:35','2019-01-31 00:00:00'),(30,'Вера','Артемьева',3,'+65(9)6355889696','issac.collier@example.net','1973-01-28 10:35:43','2019-01-31 00:00:00'),(31,'Денис','Слабнов',18,'(022)965-3326','harber.irwin@example.org','1989-11-16 08:55:51','2019-01-31 00:00:00'),(32,'Кирилл','Полищук',47,'(654)649-0365','chelsey.pfannerstill@example.net','1998-03-02 06:10:44','2019-01-31 00:00:00'),(33,'Сергей','Кутырин',50,'1-032-999-1542x5855','champlin.simeon@example.net','2001-05-23 14:05:16','2019-01-31 00:00:00'),(34,'Леонид','Лексашов',33,'1-939-573-6294','xbednar@example.net','1971-06-01 13:29:35','2019-01-31 00:00:00'),(35,'Алексей','Катков',22,'1-113-202-4474','bauch.nat@example.org','1973-08-25 14:33:19','2019-01-31 00:00:00'),(36,'Николай','Беляков',16,'1-699-168-1127x93314','o\'kon.fabian@example.org','1987-05-01 00:37:30','2019-01-31 00:00:00'),(37,'Светлана','Уткова',2,'(744)266-0374x041','thalia.lowe@example.net','2011-08-25 04:13:46','2019-01-31 00:00:00'),(38,'Дмитрий','Щербинин',29,'(298)870-9076','nathanial24@example.org','1978-08-27 22:51:06','2019-01-31 00:00:00'),(39,'Глен','Павличенков',35,'855-232-1652x45795','duane.white@example.net','2007-07-29 05:37:21','2019-01-31 00:00:00'),(40,'Пётр','Горбатов',23,'1-693-214-4442x87812','jaunita.marquardt@example.org','2003-10-27 22:57:00','2019-01-31 00:00:00'),(41,'Иван','Елькин',49,'(145)133-8384','mallory35@example.net','2013-09-11 04:38:04','2019-01-31 00:00:00'),(42,'Фёдор','Лобов',17,'+24(6)4300571421','woodrow06@example.net','1976-08-12 06:17:42','2019-01-31 00:00:00'),(43,'Анатолий','Пивоваров',34,'321.998.1612','qquigley@example.org','2004-12-29 02:49:36','2019-01-31 00:00:00'),(44,'Вениамин','Дмитриев',42,'962.412.7476','frieda63@example.net','1986-10-13 11:47:31','2019-01-31 00:00:00'),(45,'Дина','Васильев',9,'384-918-0440x8563','ulang@example.org','1974-11-04 00:10:14','2019-01-31 00:00:00'),(46,'Екатерина','Ярмахова',39,'1-339-320-8880x8662','balistreri.ciara@example.com','1998-05-23 18:42:09','2019-01-31 00:00:00'),(47,'Богдан','Качалов',40,'407.735.9623x5755','kihn.carlie@example.net','1998-12-28 22:53:16','2019-01-31 00:00:00'),(48,'Филипп','Соловьев',36,'(896)831-8854x03032','tnienow@example.net','2003-01-16 00:41:56','2019-01-31 00:00:00'),(49,'Давид','Орлов',10,'636.615.1490x5412','lryan@example.net','2014-06-29 14:40:19','2019-01-31 00:00:00'),(50,'Ксения','Чухлова',15,'(921)390-7757','archibald37@example.org','1982-01-31 20:12:19','2019-01-31 00:00:00');
/*!40000 ALTER TABLE `clients` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `discounts`
--

DROP TABLE IF EXISTS `discounts`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `discounts` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `client_id` int unsigned NOT NULL,
  `product_id` int unsigned NOT NULL,
  `discount` tinyint unsigned DEFAULT NULL,
  `started_at` datetime DEFAULT NULL,
  `finished_at` datetime DEFAULT NULL,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `discounts_client_id_fk` (`client_id`),
  KEY `discounts_product_id_discount_idx` (`product_id`,`discount`),
  CONSTRAINT `discounts_client_id_fk` FOREIGN KEY (`client_id`) REFERENCES `clients` (`id`),
  CONSTRAINT `discounts_product_id_fk` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Скидки для покупателей';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `discounts`
--

LOCK TABLES `discounts` WRITE;
/*!40000 ALTER TABLE `discounts` DISABLE KEYS */;
INSERT INTO `discounts` VALUES (1,26,17,11,'2020-04-10 00:00:00','2020-08-18 03:35:39','2020-04-10 00:00:00','2020-07-28 15:19:59'),(2,16,50,7,'2019-03-03 00:00:00','2019-09-03 15:47:18','2019-03-03 00:00:00','2019-09-03 15:47:18'),(3,14,72,9,'2019-04-08 00:00:00','2019-06-24 15:52:17','2019-04-08 00:00:00','2019-06-24 15:52:17'),(4,40,6,14,'2018-09-09 00:00:00','2018-10-17 23:30:24','2018-09-09 00:00:00','2018-10-17 23:30:24'),(5,3,58,5,'2018-07-29 00:00:00','2018-11-14 15:02:53','2018-07-29 00:00:00','2018-11-14 15:02:53'),(6,48,21,5,'2018-12-28 00:00:00','2019-05-02 23:39:23','2018-12-28 00:00:00','2019-05-02 23:39:23'),(7,38,19,6,'2019-04-09 00:00:00','2019-12-24 06:29:26','2019-04-09 00:00:00','2019-12-24 06:29:26'),(8,45,71,14,'2020-03-09 00:00:00','2020-11-06 01:49:39','2020-03-09 00:00:00','2020-07-28 15:19:59'),(9,2,47,14,'2019-04-14 00:00:00','2019-11-13 13:22:53','2019-04-14 00:00:00','2019-11-13 13:22:53'),(10,41,62,12,'2018-07-08 00:00:00','2018-10-21 00:22:43','2018-07-08 00:00:00','2018-10-21 00:22:43'),(11,42,73,8,'2018-11-10 00:00:00','2020-08-27 20:46:25','2018-11-10 00:00:00','2020-07-28 15:19:59'),(12,29,55,12,'2018-11-14 00:00:00','2018-12-06 09:21:48','2018-11-14 00:00:00','2018-12-06 09:21:48'),(13,4,57,8,'2019-01-10 00:00:00','2019-03-12 09:12:13','2019-01-10 00:00:00','2019-03-12 09:12:13'),(14,11,67,13,'2018-11-13 00:00:00','2019-08-12 16:44:12','2018-11-13 00:00:00','2019-08-12 16:44:12'),(15,30,70,5,'2018-01-26 00:00:00','2018-12-11 11:57:27','2018-01-26 00:00:00','2018-12-11 11:57:27'),(16,43,36,12,'2019-10-14 00:00:00','2020-07-20 11:21:38','2019-10-14 00:00:00','2020-07-28 15:19:59'),(17,28,22,12,'2019-03-29 00:00:00','2019-05-28 00:31:52','2019-03-29 00:00:00','2019-05-28 00:31:52'),(18,18,27,12,'2018-12-23 00:00:00','2019-08-21 18:06:08','2018-12-23 00:00:00','2019-08-21 18:06:08'),(19,46,78,12,'2019-09-01 00:00:00','2019-09-03 18:37:49','2019-09-01 00:00:00','2019-09-03 18:37:49'),(20,23,54,12,'2019-12-09 00:00:00','2020-02-19 06:34:35','2019-12-09 00:00:00','2020-02-19 06:34:35');
/*!40000 ALTER TABLE `discounts` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `order_lines`
--

DROP TABLE IF EXISTS `order_lines`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `order_lines` (
  `order_id` int unsigned NOT NULL,
  `product_id` int unsigned NOT NULL,
  `amount` tinyint unsigned NOT NULL,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  KEY `order_line_product_id_fk` (`product_id`),
  KEY `order_line_order_id_fk` (`order_id`),
  CONSTRAINT `order_line_order_id_fk` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`) ON DELETE CASCADE,
  CONSTRAINT `order_line_product_id_fk` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Строка заказа';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `order_lines`
--

LOCK TABLES `order_lines` WRITE;
/*!40000 ALTER TABLE `order_lines` DISABLE KEYS */;
INSERT INTO `order_lines` VALUES (41,22,2,'2002-08-31 22:56:39','2002-08-31 22:56:39'),(3,52,2,'1995-11-28 16:20:07','2008-06-18 21:07:20'),(17,48,2,'1974-05-06 14:26:44','1974-05-06 14:26:44'),(14,75,1,'1990-11-25 00:16:08','2009-10-18 18:52:54'),(45,29,3,'2014-01-21 23:51:30','2014-01-21 23:51:30'),(18,63,3,'1991-02-26 03:41:58','1991-02-26 03:41:58'),(17,77,1,'1974-05-06 14:26:44','1974-05-06 14:26:44'),(38,71,3,'1995-03-21 22:23:59','2019-04-17 00:11:51'),(22,49,2,'1993-09-09 12:22:00','2011-12-19 16:13:49'),(2,52,3,'1978-01-13 08:44:29','1980-01-20 01:44:02'),(18,52,1,'1991-02-26 03:41:58','1991-02-26 03:41:58'),(22,42,1,'1993-09-09 12:22:00','2011-12-19 16:13:49'),(42,79,2,'1976-03-19 23:38:21','1983-09-06 18:49:51'),(2,42,3,'1978-01-13 08:44:29','1980-01-20 01:44:02'),(20,75,3,'1982-09-26 06:33:49','2009-04-30 15:20:59'),(28,51,3,'2005-04-11 21:19:35','2016-06-02 05:55:03'),(1,74,2,'1974-05-29 20:45:16','1974-05-29 20:45:16'),(6,79,1,'1989-04-30 18:15:40','1996-07-11 12:03:52'),(10,49,1,'1978-08-22 20:52:27','2012-10-26 15:35:43'),(46,67,2,'1976-12-15 21:49:09','2018-09-15 20:57:17'),(50,13,2,'1976-11-20 02:00:11','2010-03-01 13:31:02'),(47,42,2,'1987-06-14 16:03:39','2018-11-07 16:39:55'),(31,65,1,'1986-04-12 01:37:08','2003-09-18 00:14:19'),(14,70,1,'1990-11-25 00:16:08','2009-10-18 18:52:54'),(28,61,3,'2005-04-11 21:19:35','2016-06-02 05:55:03'),(14,6,2,'1990-11-25 00:16:08','2009-10-18 18:52:54'),(50,39,1,'1976-11-20 02:00:11','2010-03-01 13:31:02'),(26,28,2,'1994-06-17 11:48:26','1999-12-05 17:27:28'),(5,68,3,'1993-04-21 22:11:08','1996-06-08 22:50:31'),(14,57,2,'1990-11-25 00:16:08','2009-10-18 18:52:54'),(25,38,3,'1972-05-15 22:03:27','1972-05-15 22:03:27'),(35,10,3,'2017-12-19 23:57:52','2018-06-04 13:29:10'),(21,29,3,'1976-01-02 04:08:11','1976-01-02 04:08:11'),(30,6,3,'1971-10-31 03:18:05','1971-10-31 03:18:05'),(48,5,2,'1992-11-02 05:27:50','2020-03-10 08:54:38'),(11,58,1,'1983-11-13 01:31:22','1983-11-13 01:31:22'),(50,68,3,'1976-11-20 02:00:11','2010-03-01 13:31:02'),(38,2,2,'1995-03-21 22:23:59','2019-04-17 00:11:51'),(14,49,2,'1990-11-25 00:16:08','2009-10-18 18:52:54'),(2,38,2,'1978-01-13 08:44:29','1980-01-20 01:44:02'),(9,54,1,'1977-07-28 22:43:52','2016-12-06 08:23:44'),(12,22,2,'2005-09-09 09:50:34','2013-05-04 03:24:48'),(6,79,1,'1989-04-30 18:15:40','1996-07-11 12:03:52'),(18,53,2,'1991-02-26 03:41:58','1991-02-26 03:41:58'),(40,63,2,'1975-06-04 01:25:18','1978-02-19 10:22:00'),(28,75,2,'2005-04-11 21:19:35','2016-06-02 05:55:03'),(28,25,3,'2005-04-11 21:19:35','2016-06-02 05:55:03'),(44,58,2,'1980-08-30 10:33:10','2018-05-31 19:05:03'),(27,74,2,'1972-09-08 10:23:15','1977-03-26 02:37:51'),(18,74,1,'1991-02-26 03:41:58','1991-02-26 03:41:58'),(37,46,2,'1994-08-26 04:54:03','1994-08-26 04:54:03'),(41,8,3,'2002-08-31 22:56:39','2002-08-31 22:56:39'),(22,37,1,'1993-09-09 12:22:00','2011-12-19 16:13:49'),(11,31,3,'1983-11-13 01:31:22','1983-11-13 01:31:22'),(3,78,1,'1995-11-28 16:20:07','2008-06-18 21:07:20'),(16,18,3,'1972-11-08 05:23:40','1972-11-08 05:23:40'),(32,37,1,'1987-10-27 02:22:34','1987-10-27 02:22:34'),(27,37,3,'1972-09-08 10:23:15','1977-03-26 02:37:51'),(49,45,2,'1972-05-17 00:39:22','1976-06-26 06:00:28'),(2,25,1,'1978-01-13 08:44:29','1980-01-20 01:44:02'),(23,14,2,'1980-12-29 21:06:57','2002-04-22 00:02:44'),(18,3,1,'1991-02-26 03:41:58','1991-02-26 03:41:58'),(43,35,1,'2004-11-20 20:06:00','2006-02-21 16:23:34'),(4,43,3,'2004-04-12 15:08:43','2004-04-12 15:08:43'),(18,9,1,'1991-02-26 03:41:58','1991-02-26 03:41:58'),(30,39,2,'1971-10-31 03:18:05','1971-10-31 03:18:05'),(20,22,2,'1982-09-26 06:33:49','2009-04-30 15:20:59'),(9,77,2,'1977-07-28 22:43:52','2016-12-06 08:23:44'),(7,41,2,'1974-08-07 01:47:29','1974-08-07 01:47:29'),(47,70,3,'1987-06-14 16:03:39','2018-11-07 16:39:55'),(27,35,1,'1972-09-08 10:23:15','1977-03-26 02:37:51'),(45,15,2,'2014-01-21 23:51:30','2014-01-21 23:51:30'),(13,13,3,'2003-07-13 05:05:39','2003-07-13 05:05:39'),(20,35,3,'1982-09-26 06:33:49','2009-04-30 15:20:59'),(43,68,1,'2004-11-20 20:06:00','2006-02-21 16:23:34'),(13,76,1,'2003-07-13 05:05:39','2003-07-13 05:05:39'),(18,30,2,'1991-02-26 03:41:58','1991-02-26 03:41:58'),(36,14,1,'2002-05-10 04:59:23','2002-05-10 04:59:23'),(37,54,2,'1994-08-26 04:54:03','1994-08-26 04:54:03'),(19,25,2,'1986-08-07 17:56:24','1986-08-07 17:56:24'),(8,8,3,'1981-03-11 16:25:20','1981-03-11 16:25:20'),(18,21,1,'1991-02-26 03:41:58','1991-02-26 03:41:58'),(47,32,3,'1987-06-14 16:03:39','2018-11-07 16:39:55'),(38,44,3,'1995-03-21 22:23:59','2019-04-17 00:11:51'),(2,52,1,'1978-01-13 08:44:29','1980-01-20 01:44:02'),(14,31,3,'1990-11-25 00:16:08','2009-10-18 18:52:54'),(42,61,2,'1976-03-19 23:38:21','1983-09-06 18:49:51'),(4,9,2,'2004-04-12 15:08:43','2004-04-12 15:08:43'),(35,67,1,'2017-12-19 23:57:52','2018-06-04 13:29:10'),(15,27,1,'1991-06-12 00:09:42','1991-06-12 00:09:42'),(5,34,2,'1993-04-21 22:11:08','1996-06-08 22:50:31'),(47,2,1,'1987-06-14 16:03:39','2018-11-07 16:39:55'),(28,30,3,'2005-04-11 21:19:35','2016-06-02 05:55:03'),(24,68,3,'1982-08-15 16:24:24','1988-08-17 20:01:17'),(19,45,3,'1986-08-07 17:56:24','1986-08-07 17:56:24'),(22,38,3,'1993-09-09 12:22:00','2011-12-19 16:13:49'),(4,27,3,'2004-04-12 15:08:43','2004-04-12 15:08:43'),(30,66,3,'1971-10-31 03:18:05','1971-10-31 03:18:05'),(26,36,3,'1994-06-17 11:48:26','1999-12-05 17:27:28'),(49,68,1,'1972-05-17 00:39:22','1976-06-26 06:00:28'),(29,50,1,'2010-03-26 08:35:36','2010-03-26 08:35:36'),(33,7,1,'2010-03-26 08:35:36','2010-03-26 08:35:36'),(39,15,2,'2010-03-26 08:35:36','2010-03-26 08:35:36'),(39,61,1,'2010-03-26 08:35:36','2010-03-26 08:35:36'),(34,17,3,'2010-03-26 08:35:36','2010-03-26 08:35:36');
/*!40000 ALTER TABLE `order_lines` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `order_steps`
--

DROP TABLE IF EXISTS `order_steps`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `order_steps` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `order_id` int unsigned NOT NULL,
  `step_id` int unsigned NOT NULL,
  `date_step_reg` datetime DEFAULT NULL,
  `date_step_end` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `order_step_step_id_fk` (`step_id`),
  KEY `order_steps_reg_end_idx` (`order_id`,`date_step_reg`,`date_step_end`),
  CONSTRAINT `order_step_order_id_fk` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`) ON DELETE CASCADE,
  CONSTRAINT `order_step_step_id_fk` FOREIGN KEY (`step_id`) REFERENCES `steps` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=170 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Статус заказа';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `order_steps`
--

LOCK TABLES `order_steps` WRITE;
/*!40000 ALTER TABLE `order_steps` DISABLE KEYS */;
INSERT INTO `order_steps` VALUES (1,1,1,'1974-05-29 20:45:16','1974-05-30 20:45:16'),(2,1,2,'1974-05-30 20:45:16','1974-06-01 20:45:16'),(3,1,3,'1974-06-01 20:45:16','1974-06-02 20:45:16'),(4,1,4,'1974-06-02 20:45:16','1974-06-05 20:45:16'),(5,2,1,'1978-01-13 08:44:29','1978-01-13 10:44:29'),(6,2,2,'1978-01-13 10:44:29','1978-01-14 10:44:29'),(7,2,3,'1978-01-14 10:44:29','1978-01-16 10:44:29'),(8,2,4,'1978-01-16 10:44:29','1978-01-20 10:44:29'),(9,3,1,'1995-11-28 16:20:07',NULL),(10,4,1,'2004-04-12 15:08:43','2004-04-13 15:08:43'),(11,4,2,'2004-04-13 15:08:43','2004-04-15 15:08:43'),(12,4,3,'2004-04-15 15:08:43','2004-04-17 15:08:43'),(13,4,4,'2004-04-17 15:08:43','2004-04-21 15:08:43'),(14,5,1,'1993-04-21 22:11:08','1993-04-21 23:11:08'),(15,5,2,'1993-04-21 23:11:08','1993-04-22 22:11:08'),(16,5,3,'1993-04-22 22:11:08','1993-04-24 22:11:08'),(17,5,4,'1993-04-24 22:11:08','1993-04-26 22:11:08'),(18,6,1,'1989-04-30 18:15:40','1989-04-30 20:15:40'),(19,6,2,'1989-04-30 20:15:40','1989-05-01 18:15:40'),(20,6,3,'1989-05-01 18:15:40','1989-05-02 18:15:40'),(21,6,4,'1989-05-02 18:15:40','1989-05-05 18:15:40'),(22,7,1,'1974-08-07 01:47:29','1974-08-08 01:47:29'),(23,7,2,'1974-08-08 01:47:29','1974-08-09 01:47:29'),(24,7,3,'1974-08-09 01:47:29','1974-08-11 01:47:29'),(25,7,4,'1974-08-11 01:47:29','1974-08-14 01:47:29'),(26,8,1,'1981-03-11 16:25:20','1981-03-11 20:25:20'),(27,8,2,'1981-03-11 20:25:20','1981-03-12 16:25:20'),(28,8,3,'1981-03-12 16:25:20','1981-03-14 16:25:20'),(29,8,4,'1981-03-14 16:25:20','1981-03-17 16:25:20'),(30,9,1,'1977-07-28 22:43:52',NULL),(31,10,1,'1978-08-22 20:52:27','1978-08-23 20:52:27'),(32,10,2,'1978-08-23 20:52:27','1978-08-24 20:52:27'),(33,10,3,'1978-08-24 20:52:27','1978-08-25 20:52:27'),(34,10,4,'1978-08-25 20:52:27','1978-08-28 20:52:27'),(35,11,1,'1983-11-13 01:31:22','1983-11-14 01:31:22'),(36,11,2,'1983-11-14 01:31:22','1983-11-15 01:31:22'),(37,11,3,'1983-11-15 01:31:22','1983-11-17 01:31:22'),(38,11,4,'1983-11-17 01:31:22','1983-11-21 01:31:22'),(39,12,1,'2005-09-09 09:50:34',NULL),(40,13,1,'2003-07-13 05:05:39','2003-07-13 10:05:39'),(41,13,2,'2003-07-13 10:05:39','2003-07-14 05:05:39'),(42,13,3,'2003-07-14 05:05:39','2003-07-16 05:05:39'),(43,13,4,'2003-07-16 05:05:39','2003-07-18 05:05:39'),(44,14,1,'1990-11-25 00:16:08','1990-11-26 00:16:08'),(45,14,2,'1990-11-26 00:16:08','1990-11-27 00:16:08'),(46,14,3,'1990-11-27 00:16:08','1990-11-28 00:16:08'),(47,14,4,'1990-11-28 00:16:08','1990-11-28 23:16:08'),(48,15,1,'1991-06-12 00:09:42','1991-06-13 00:09:42'),(49,15,2,'1991-06-13 00:09:42','1991-06-14 00:09:42'),(50,15,3,'1991-06-14 00:09:42','1991-06-15 00:09:42'),(51,15,4,'1991-06-15 00:09:42','1991-06-17 00:09:42'),(52,16,1,'1972-11-08 05:23:40','1972-11-08 10:23:40'),(53,16,2,'1972-11-08 10:23:40','1972-11-09 05:23:40'),(54,16,3,'1972-11-09 05:23:40','1972-11-10 05:23:40'),(55,16,4,'1972-11-10 05:23:40','1972-11-15 05:23:40'),(56,17,1,'1974-05-06 14:26:44','1974-05-06 15:26:44'),(57,17,2,'1974-05-06 15:26:44','1974-05-07 14:26:44'),(58,17,3,'1974-05-07 14:26:44','1974-05-07 20:26:44'),(59,17,4,'1974-05-07 20:26:44','1974-05-09 14:26:44'),(60,18,1,'1991-02-26 03:41:58',NULL),(61,19,1,'1986-08-07 17:56:24','1986-08-07 20:56:24'),(62,19,2,'1986-08-07 20:56:24','1986-08-08 17:56:24'),(63,19,3,'1986-08-08 17:56:24','1986-08-09 17:56:24'),(64,19,4,'1986-08-09 17:56:24','1986-08-11 17:56:24'),(65,20,1,'1982-09-26 06:33:49','1982-09-26 12:33:49'),(66,20,2,'1982-09-26 12:33:49','1982-09-27 06:33:49'),(67,20,3,'1982-09-27 06:33:49','1982-09-28 06:33:49'),(68,20,4,'1982-09-28 06:33:49','1982-09-28 20:33:49'),(69,21,1,'1976-01-02 04:08:11',NULL),(70,22,1,'1993-09-09 12:22:00','1993-09-09 12:25:00'),(71,22,2,'1993-09-09 12:25:00','1993-09-10 12:22:00'),(72,22,3,'1993-09-10 12:22:00','1993-09-11 12:22:00'),(73,22,4,'1993-09-11 12:22:00','1993-09-13 12:22:00'),(74,23,1,'1980-12-29 21:06:57','1980-12-30 21:06:57'),(75,23,2,'1980-12-30 21:06:57','1980-12-31 21:06:57'),(76,23,3,'1980-12-31 21:06:57','1981-01-04 21:06:57'),(77,23,4,'1981-01-04 21:06:57','1981-01-09 21:06:57'),(78,24,1,'1982-08-15 16:24:24','1982-08-16 16:24:24'),(79,24,2,'1982-08-16 16:24:24','1982-08-17 16:24:24'),(80,24,3,'1982-08-17 16:24:24','1982-08-18 16:24:24'),(81,24,4,'1982-08-18 16:24:24','1982-08-20 16:24:24'),(82,25,1,'1972-05-15 22:03:27','1972-05-16 12:03:27'),(83,25,2,'1972-05-16 12:03:27','1972-05-16 22:03:27'),(84,25,3,'1972-05-16 22:03:27','1972-05-17 22:03:27'),(85,25,4,'1972-05-17 22:03:27','1972-05-20 22:03:27'),(86,26,1,'1994-06-17 11:48:26','1994-06-18 11:48:26'),(87,26,2,'1994-06-18 11:48:26','1994-06-19 11:48:26'),(88,26,3,'1994-06-19 11:48:26','1994-06-20 11:48:26'),(89,26,4,'1994-06-20 11:48:26','1994-06-25 11:48:26'),(90,27,1,'1972-09-08 10:23:15',NULL),(91,28,1,'2005-04-11 21:19:35','2005-04-12 21:19:35'),(92,28,2,'2005-04-12 21:19:35','2005-04-13 21:19:35'),(93,28,3,'2005-04-13 21:19:35','2005-04-14 21:19:35'),(94,28,4,'2005-04-14 21:19:35','2005-04-17 21:19:35'),(95,29,1,'2010-03-26 08:35:36','2010-03-26 20:35:36'),(96,29,2,'2010-03-26 20:35:36','2010-03-27 08:35:36'),(97,29,3,'2010-03-27 08:35:36','2010-03-28 08:35:36'),(98,29,4,'2010-03-28 08:35:36','2010-03-30 08:35:36'),(99,30,1,'1971-10-31 03:18:05',NULL),(100,31,1,'1986-04-12 01:37:08','1986-04-13 01:37:08'),(101,31,2,'1986-04-13 01:37:08','1986-04-14 01:37:08'),(102,31,3,'1986-04-14 01:37:08','1986-04-15 01:37:08'),(103,31,4,'1986-04-15 01:37:08','1986-04-17 01:37:08'),(104,32,1,'1987-10-27 02:22:34','1987-10-27 12:22:34'),(105,32,2,'1987-10-27 12:22:34','1987-10-28 02:22:34'),(106,32,3,'1987-10-28 02:22:34','1987-10-29 02:22:34'),(107,32,4,'1987-10-29 02:22:34','1987-10-31 02:22:34'),(108,33,1,'2010-03-26 08:35:36','2010-03-26 16:35:36'),(109,33,2,'2010-03-26 16:35:36','2010-03-27 08:35:36'),(110,33,3,'2010-03-27 08:35:36','2010-03-28 08:35:36'),(111,33,4,'2010-03-28 08:35:36','2010-04-02 08:35:36'),(112,34,1,'2010-03-26 08:35:36','2010-03-27 08:35:36'),(113,34,2,'2010-03-27 08:35:36','2010-03-27 20:35:36'),(114,34,3,'2010-03-27 20:35:36','2010-04-01 08:35:36'),(115,34,4,'2010-04-01 08:35:36','2010-04-03 08:35:36'),(116,35,1,'2017-12-19 23:57:52','2017-12-20 23:57:52'),(117,35,2,'2017-12-20 23:57:52','2017-12-22 23:57:52'),(118,35,3,'2017-12-22 23:57:52','2017-12-23 23:57:52'),(119,35,4,'2017-12-23 23:57:52','2017-12-25 23:57:52'),(120,36,1,'2002-05-10 04:59:23',NULL),(121,37,1,'1994-08-26 04:54:03','1994-08-27 04:54:03'),(122,37,2,'1994-08-27 04:54:03','1994-08-28 04:54:03'),(123,37,3,'1994-08-28 04:54:03','1994-08-29 04:54:03'),(124,37,4,'1994-08-29 04:54:03','1994-09-02 04:54:03'),(125,38,1,'1995-03-21 22:23:59','1995-03-22 22:23:59'),(126,38,2,'1995-03-22 22:23:59','1995-03-23 22:23:59'),(127,38,3,'1995-03-23 22:23:59','1995-03-24 22:23:59'),(128,38,4,'1995-03-24 22:23:59','1995-03-27 22:23:59'),(129,39,1,'2010-03-26 08:35:36',NULL),(130,40,1,'1975-06-04 01:25:18','1975-06-05 01:25:18'),(131,40,2,'1975-06-05 01:25:18','1975-06-06 01:25:18'),(132,40,3,'1975-06-06 01:25:18','1975-06-07 01:25:18'),(133,40,4,'1975-06-07 01:25:18','1975-06-10 01:25:18'),(134,41,1,'2002-08-31 22:56:39','2002-09-01 22:56:39'),(135,41,2,'2002-09-01 22:56:39','2002-09-02 22:56:39'),(136,41,3,'2002-09-02 22:56:39','2002-09-03 22:56:39'),(137,41,4,'2002-09-03 22:56:39','2002-09-05 22:56:39'),(138,42,1,'1976-03-19 23:38:21','1976-03-20 23:38:21'),(139,42,2,'1976-03-20 23:38:21','1976-03-21 23:38:21'),(140,42,3,'1976-03-21 23:38:21','1976-03-22 23:38:21'),(141,42,4,'1976-03-22 23:38:21','1976-03-25 23:38:21'),(142,43,1,'2004-11-20 20:06:00','2004-11-21 20:06:00'),(143,43,2,'2004-11-21 20:06:00','2004-11-22 20:06:00'),(144,43,3,'2004-11-22 20:06:00','2004-11-23 20:06:00'),(145,43,4,'2004-11-23 20:06:00','2004-11-26 20:06:00'),(146,44,1,'1980-08-30 10:33:10','1980-09-01 10:33:10'),(147,44,2,'1980-09-01 10:33:10','1980-09-02 10:33:10'),(148,44,3,'1980-09-02 10:33:10','1980-09-03 10:33:10'),(149,44,4,'1980-09-03 10:33:10','1980-09-07 10:33:10'),(150,45,1,'2014-01-21 23:51:30',NULL),(151,46,1,'1976-12-15 21:49:09','1976-12-16 21:49:09'),(152,46,2,'1976-12-16 21:49:09','1976-12-17 21:49:09'),(153,46,3,'1976-12-17 21:49:09','1976-12-18 21:49:09'),(154,46,4,'1976-12-18 21:49:09','1976-12-20 21:49:09'),(155,47,1,'1987-06-14 16:03:39','1987-06-14 20:03:39'),(156,47,2,'1987-06-14 20:03:39','1987-06-15 16:03:39'),(157,47,3,'1987-06-15 16:03:39','1987-06-16 16:03:39'),(158,47,4,'1987-06-16 16:03:39','1987-06-20 16:03:39'),(159,48,1,'1992-11-02 05:27:50',NULL),(160,49,1,'1972-05-17 00:39:22','1972-05-18 00:39:22'),(161,49,2,'1972-05-18 00:39:22','1972-05-19 00:39:22'),(162,49,3,'1972-05-19 00:39:22','1972-05-20 00:39:22'),(163,49,4,'1972-05-20 00:39:22','1972-05-25 00:39:22'),(164,50,1,'1976-11-20 02:00:11','1976-11-21 02:00:11'),(165,50,2,'1976-11-21 02:00:11','1976-11-23 02:00:11'),(166,50,3,'1976-11-23 02:00:11','1976-11-24 02:00:11'),(167,50,4,'1976-11-24 02:00:11','1976-11-27 02:00:11');
/*!40000 ALTER TABLE `order_steps` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `orders`
--

DROP TABLE IF EXISTS `orders`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `orders` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `client_id` int unsigned NOT NULL,
  `seller_id` int unsigned NOT NULL,
  `total_price` decimal(11,2) unsigned NOT NULL,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `order_client_id_fk` (`client_id`),
  KEY `orders_seller_id_total_price_idx` (`seller_id`,`total_price`),
  CONSTRAINT `order_client_id_fk` FOREIGN KEY (`client_id`) REFERENCES `clients` (`id`),
  CONSTRAINT `order_seller_id_fk` FOREIGN KEY (`seller_id`) REFERENCES `sellers` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=53 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Заказ';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `orders`
--

LOCK TABLES `orders` WRITE;
/*!40000 ALTER TABLE `orders` DISABLE KEYS */;
INSERT INTO `orders` VALUES (1,36,8,4398.02,'1974-05-29 20:45:16','1974-05-29 20:45:16'),(2,32,9,80737.64,'1978-01-13 08:44:29','1980-01-20 01:44:02'),(3,48,2,14409.75,'1995-11-28 16:20:07','2008-06-18 21:07:20'),(4,6,2,99156.91,'2004-04-12 15:08:43','2004-04-12 15:08:43'),(5,41,10,45359.95,'1993-04-21 22:11:08','1996-06-08 22:50:31'),(6,5,8,1685.14,'1989-04-30 18:15:40','1996-07-11 12:03:52'),(7,26,1,13497.22,'1974-08-07 01:47:29','1974-08-07 01:47:29'),(8,30,7,36000.00,'1981-03-11 16:25:20','1981-03-11 16:25:20'),(9,19,10,9206.20,'1977-07-28 22:43:52','2016-12-06 08:23:44'),(10,16,8,6259.91,'1978-08-22 20:52:27','2012-10-26 15:35:43'),(11,35,4,32388.43,'1983-11-13 01:31:22','1983-11-13 01:31:22'),(12,17,9,12511.30,'2005-09-09 09:50:34','2013-05-04 03:24:48'),(13,11,1,93044.42,'2003-07-13 05:05:39','2003-07-13 05:05:39'),(14,10,3,65850.27,'1990-11-25 00:16:08','2009-10-18 18:52:54'),(15,1,7,12050.03,'1991-06-12 00:09:42','1991-06-12 00:09:42'),(16,2,5,32157.54,'1972-11-08 05:23:40','1972-11-08 05:23:40'),(17,15,10,12125.02,'1974-05-06 14:26:44','1974-05-06 14:26:44'),(18,34,1,93853.70,'1991-02-26 03:41:58','1991-02-26 03:41:58'),(19,44,2,47338.24,'1986-08-07 17:56:24','1986-08-07 17:56:24'),(20,9,2,62981.71,'1982-09-26 06:33:49','2009-04-30 15:20:59'),(21,7,8,25666.65,'1976-01-02 04:08:11','1976-01-02 04:08:11'),(22,28,4,63109.78,'1993-09-09 12:22:00','2011-12-19 16:13:49'),(23,49,1,42000.00,'1980-12-29 21:06:57','2002-04-22 00:02:44'),(24,14,4,11924.79,'1982-08-15 16:24:24','1988-08-17 20:01:17'),(25,39,7,39696.66,'1972-05-15 22:03:27','1972-05-15 22:03:27'),(26,46,1,63201.80,'1994-06-17 11:48:26','1999-12-05 17:27:28'),(27,22,9,34514.25,'1972-09-08 10:23:15','1977-03-26 02:37:51'),(28,50,8,110059.59,'2005-04-11 21:19:35','2016-06-02 05:55:03'),(29,13,2,5197.82,'2010-03-26 08:35:36','2010-03-26 08:35:36'),(30,4,1,37747.94,'1971-10-31 03:18:05','1971-10-31 03:18:05'),(31,8,8,3040.46,'1986-04-12 01:37:08','2003-09-18 00:14:19'),(32,20,8,5310.35,'1987-10-27 02:22:34','1987-10-27 02:22:34'),(33,25,10,15000.00,'2010-03-26 08:35:36','2010-03-26 08:35:36'),(34,47,2,42346.20,'2010-03-26 08:35:36','2010-03-26 08:35:36'),(35,31,3,33432.56,'2017-12-19 23:57:52','2018-06-04 13:29:10'),(36,29,7,21000.00,'2002-05-10 04:59:23','2002-05-10 04:59:23'),(37,37,7,22332.30,'1994-08-26 04:54:03','1994-08-26 04:54:03'),(38,24,2,37994.61,'1995-03-21 22:23:59','2019-04-17 00:11:51'),(39,27,6,59053.35,'2010-03-26 08:35:36','2010-03-26 08:35:36'),(40,38,8,6139.02,'1975-06-04 01:25:18','1978-02-19 10:22:00'),(41,3,6,48511.30,'2002-08-31 22:56:39','2002-08-31 22:56:39'),(42,42,7,7791.84,'1976-03-19 23:38:21','1983-09-06 18:49:51'),(43,21,3,18160.11,'2004-11-20 20:06:00','2006-02-21 16:23:34'),(44,23,9,10145.06,'1980-08-30 10:33:10','2018-05-31 19:05:03'),(45,40,1,81666.65,'2014-01-21 23:51:30','2014-01-21 23:51:30'),(46,12,1,6865.12,'1976-12-15 21:49:09','2018-09-15 20:57:17'),(47,33,10,53535.80,'1987-06-14 16:03:39','2018-11-07 16:39:55'),(48,18,3,16000.00,'1992-11-02 05:27:50','2020-03-10 08:54:38'),(49,43,6,19919.69,'1972-05-17 00:39:22','1976-06-26 06:00:28'),(50,45,1,78454.81,'1976-11-20 02:00:11','2010-03-01 13:31:02');
/*!40000 ALTER TABLE `orders` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `new_order_insert` AFTER INSERT ON `orders` FOR EACH ROW BEGIN
	DECLARE new_id INT;
	DECLARE reg_date DATE;
	SELECT id INTO new_id FROM orders ORDER BY id DESC LIMIT 1;
	SELECT created_at INTO reg_date FROM orders ORDER BY id DESC LIMIT 1;
	INSERT INTO order_steps (order_id, step_id, date_step_reg, date_step_end) VALUES (new_id, 1, reg_date, NULL);
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`localhost`*/ /*!50003 TRIGGER `order_delete` AFTER DELETE ON `orders` FOR EACH ROW BEGIN
	DELETE FROM order_lines WHERE order_lines.order_id = OLD.id;
	DELETE FROM order_steps WHERE order_steps.order_id = OLD.id;
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `positions`
--

DROP TABLE IF EXISTS `positions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `positions` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Должности в магазине';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `positions`
--

LOCK TABLES `positions` WRITE;
/*!40000 ALTER TABLE `positions` DISABLE KEYS */;
INSERT INTO `positions` VALUES (1,'Генеральный директор'),(2,'Администратор магазина'),(3,'Менеджер по закупкам'),(4,'Старший продавец'),(5,'Продавец'),(6,'Кассир'),(7,'Главный бухгалтер'),(8,'Бухгалтер');
/*!40000 ALTER TABLE `positions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `producers`
--

DROP TABLE IF EXISTS `producers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `producers` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(120) NOT NULL,
  `country` varchar(120) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `producers_name_idx` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=26 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Производитель товара';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `producers`
--

LOCK TABLES `producers` WRITE;
/*!40000 ALTER TABLE `producers` DISABLE KEYS */;
INSERT INTO `producers` VALUES (1,'Intel','США'),(2,'AMD','США'),(3,'Gigabyte','Тайвань'),(4,'ASUS','Тайвань'),(5,'MSI','Тайвань'),(6,'Palit','Тайвань'),(7,'Kingston','США'),(8,'Crucial','США'),(9,'Corsair','США'),(10,'Patriot','США'),(11,'FSP','Тайвань'),(12,'Thermaltake','Тайвань'),(13,'Seasonic','Тайвань'),(14,'be quiet!','Германия'),(15,'DEXP','Россия'),(16,'AeroСool','Тайвань'),(17,'DeepCool','Китай'),(18,'NXZT','США'),(19,'InWin','Тайвань'),(20,'Zalman','Корея'),(21,'Noctua','Австрия'),(22,'Сooler Master','Тайвань'),(23,'Seagate','США'),(24,'Western Digital','США'),(25,'Samsung','Корея');
/*!40000 ALTER TABLE `producers` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `products`
--

DROP TABLE IF EXISTS `products`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `products` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(120) NOT NULL,
  `description` text,
  `price` decimal(11,2) unsigned DEFAULT NULL,
  `catalog_id` int unsigned NOT NULL,
  `producer_id` int unsigned NOT NULL,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `products_producer_id_fk` (`producer_id`),
  KEY `products_catalog_id_price_name_idx` (`catalog_id`,`price`,`name`),
  CONSTRAINT `products_catalog_id_fk` FOREIGN KEY (`catalog_id`) REFERENCES `catalogs` (`id`) ON DELETE RESTRICT,
  CONSTRAINT `products_producer_id_fk` FOREIGN KEY (`producer_id`) REFERENCES `producers` (`id`) ON DELETE RESTRICT
) ENGINE=InnoDB AUTO_INCREMENT=80 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Товар каталога';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `products`
--

LOCK TABLES `products` WRITE;
/*!40000 ALTER TABLE `products` DISABLE KEYS */;
INSERT INTO `products` VALUES (1,'AMD Ryzen 3 1200','Настольный процессор',4200.00,1,2,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(2,'AMD Ryzen 3 1300','Настольный процессор',4500.00,1,2,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(3,'AMD Ryzen 3 1400','Настольный процессор',5100.00,1,2,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(4,'AMD Ryzen 5 1600','Настольный процессор',7100.00,1,2,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(5,'AMD Ryzen 7 1700','Настольный процессор',8000.00,1,2,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(6,'AMD Ryzen 3 2200G','Настольный процессор',4700.00,1,2,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(7,'AMD Ryzen 7 2700','Настольный процессор',15000.00,1,2,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(8,'AMD Ryzen 5 3600','Настольный процессор',12000.00,1,2,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(9,'AMD Ryzen 7 3700x','Настольный процессор',23000.00,1,2,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(10,'Intel Core i5 9400F','Настольный процессор',10000.00,1,1,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(11,'Intel Core i5 9600K','Настольный процессор',12100.00,1,1,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(12,'Intel Core i7 9700K','Настольный процессор',17000.00,1,1,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(13,'Intel Core i9 9900K','Настольный процессор',30150.00,1,1,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(14,'Intel Core i5 10400','Настольный процессор',21000.00,1,1,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(15,'Intel Core i7 10700K','Настольный процессор',28000.00,1,1,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(16,'Intel Core i5 9100F','Настольный процессор',7130.00,1,1,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(17,'Gigabyte B450M DS3H','Материнская плата для настольного компьютера',14115.40,2,3,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(18,'ASUS PRIME H310M-R R2.0','Материнская плата для настольного компьютера',10719.18,2,4,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(19,'ASUS PRIME B450M-A','Материнская плата для настольного компьютера',6249.70,2,4,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(20,'ASUS TUF B450M-PRO GAMING','Материнская плата для настольного компьютера',14090.96,2,4,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(21,'ASUS PRIME B365M-K','Материнская плата для настольного компьютера',6705.71,2,4,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(22,'MSI B360 GAMING PLUS','Материнская плата для настольного компьютера',6255.65,2,5,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(23,'MSI B450M PRO-M2 MAX','Материнская плата для настольного компьютера',6161.15,2,5,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(24,'MSI MPG Z390 GAMING PLUS','Материнская плата для настольного компьютера',7038.80,2,5,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(25,'Gigabyte Z390 D','Материнская плата для настольного компьютера',11710.55,2,3,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(26,'ASUS TUF B360-PRO GAMING','Материнская плата для настольного компьютера',12436.33,2,4,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(27,'ASUS H110M-R/C/SI','Материнская плата для настольного компьютера',12050.03,2,4,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(28,'ASUS ROG STRIX B360-H GAMING','Материнская плата для настольного компьютера',7941.13,2,4,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(29,'Gigabyte H310M S2V 2.0','Материнская плата для настольного компьютера',8555.55,2,3,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(30,'MSI Z390-A PRO','Материнская плата для настольного компьютера',13954.39,2,5,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(31,'Gigabyte Z490 UD','Материнская плата для настольного компьютера',9105.30,2,3,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(32,'Gigabyte X570 GAMING X','Материнская плата для настольного компьютера',8663.32,2,3,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(33,'MSI GeForce GTX 1650','Графический ускоритель для настольного компьютера',12800.90,3,5,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(34,'Palit GeForce GTX 1650','Графический ускоритель для настольного компьютера',16717.58,3,6,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(35,'Gigabyte GeForce GTX 1660','Графический ускоритель для настольного компьютера',14185.18,3,3,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(36,'Palit GeForce RTX 2070SUPER','Графический ускоритель для настольного компьютера',15773.18,3,6,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(37,'MSI Radeon RX 570','Графический ускоритель для настольного компьютера',5310.35,3,5,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(38,'ASUS Radeon RX 580','Графический ускоритель для настольного компьютера',13232.22,3,4,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(39,'Gigabyte Radeon RX 5700XT','Графический ускоритель для настольного компьютера',6230.02,3,3,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(40,'Crucial CT8G4DFS8266 DDR4 — 8ГБ','Оперативная память для настольного компьютера',6720.03,4,8,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(41,'Kingston VALUERAM KVR26N19S8/8 DDR4 — 8ГБ','Оперативная память для настольного компьютера',6748.61,4,7,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(42,'Corsair Vengeance LPX CMK16GX4M2A2666C16 DDR4 — 2x 8ГБ','Оперативная память для настольного компьютера',5582.95,4,9,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(43,'Crucial CT8G4DFS824A DDR4 — 8ГБ','Оперативная память для настольного компьютера',5668.94,4,8,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(44,'Samsung M378A1K43CB2-CTD DDR4 — 8ГБ','Оперативная память для настольного компьютера',6595.84,4,25,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(45,'Patriot PSD34G16002S DDR3 — 4ГБ','Оперативная память для настольного компьютера',7972.38,4,10,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(46,'Patriot Signature PSD48G266681 DDR4 — 8ГБ','Оперативная память для настольного компьютера',6074.39,4,10,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(47,'AeroCool VX PLUS 500W','Блок питания для настольного компьютера',6636.54,5,16,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(48,'Thermaltake Smart RGB 500','Блок питания для настольного компьютера',5033.90,5,12,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(49,'Thermaltake TR2 S','Блок питания для настольного компьютера',6259.91,5,12,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(50,'FSP ATX-450PNR-I','Блок питания для настольного компьютера',5197.82,5,15,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(51,'FSP 550PNR','Блок питания для настольного компьютера',6209.38,5,15,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(52,'Seasonic FOCUS GX-650,','Блок питания для настольного компьютера',6453.45,5,13,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(53,'Seasonic PRIME GX-650,','Блок питания для настольного компьютера',6639.11,5,13,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(54,'ATX Zalman S2,','Корпус для настольного компьютера',5091.76,6,20,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(55,'ATX AEROCOOL AERO-500','Корпус для настольного компьютера',5012.93,6,16,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(56,'ATX DEXP AB-150','Корпус для настольного компьютера',5089.39,6,15,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(57,'mATX DEXP Z-5','Корпус для настольного компьютера',5008.14,6,15,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(58,'MicroATX NZXT P200','Корпус для настольного компьютера',5072.53,6,18,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(59,'FullTower InWin Obsidian','Корпус для настольного компьютера',5038.24,6,19,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(60,'DeepCool GAMMAXX 300 FURY','Охлаждение для процессора',3073.62,7,17,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(61,'DeepCool GAMMAXX 200 V2','Охлаждение для процессора',3053.35,7,17,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(62,'NZXT Kraken X-62','Охлаждение для процессора',3045.91,7,18,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(63,'be quiet! Dark Rock Pro 4','Охлаждение для процессора',3069.51,7,14,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(64,'DeepCool HTPC-200','Охлаждение для процессора',3009.80,7,17,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(65,'Noctua Insomnia Z-50','Охлаждение для процессора',3040.46,7,21,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(66,'Cooler Master Silent Storm P-10','Охлаждение для процессора',3729.30,7,22,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(67,'WD Green WDS240G2G0A 240ГБ','SSD накопитель для настольного компьютера',3432.56,8,24,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(68,'Samsung 860 EVO MZ-76E250BW 250ГБ','SSD накопитель для настольного компьютера',3974.93,8,25,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(69,'Kingston A400 SA400S37/240G 240ГБ','SSD накопитель для настольного компьютера',3576.95,8,7,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(70,'Crucial BX500 CT240BX500SSD1 240ГБ','SSD накопитель для настольного компьютера',3959.98,8,8,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(71,'Patriot Burst PBU120GS25SSDR 120ГБ','SSD накопитель для настольного компьютера',3069.03,8,10,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(72,'AMD Radeon R5 R5SL240G 240ГБ','SSD накопитель для настольного компьютера',3465.20,8,2,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(73,'Patriot Burst PBU240GS25SSDR 240ГБ','SSD накопитель для настольного компьютера',3118.92,8,10,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(74,'WD Caviar Blue WD10EZEX','Жесткий диск для настольного компьютера',2199.01,9,24,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(75,'Seagate Barracuda ST1000DM010','Жесткий диск для настольного компьютера',2638.29,9,23,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(76,'Seagate Barracuda ST2000DM008','Жесткий диск для настольного компьютера',2594.42,9,23,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(77,'WD Blue WD10SPZX','Жесткий диск для настольного компьютера',2057.22,9,24,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(78,'Звуковая карта ASUS PCI-E NLP-200','Звуковая карта для настольного компьютера',1502.85,10,4,'2020-07-28 14:58:16','2020-07-28 14:58:16'),(79,'Сетевой адаптер Gigabyte PWM-10','Сетевой адаптер для настольного компьютера',842.57,10,3,'2020-07-28 14:58:16','2020-07-28 14:58:16');
/*!40000 ALTER TABLE `products` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Temporary view structure for view `products_description`
--

DROP TABLE IF EXISTS `products_description`;
/*!50001 DROP VIEW IF EXISTS `products_description`*/;
SET @saved_cs_client     = @@character_set_client;
/*!50503 SET character_set_client = utf8mb4 */;
/*!50001 CREATE VIEW `products_description` AS SELECT 
 1 AS `Идентификатор`,
 1 AS `Наименование`,
 1 AS `Описание`,
 1 AS `Производитель`,
 1 AS `Страна`,
 1 AS `Категория`,
 1 AS `Цена`,
 1 AS `Количество`*/;
SET character_set_client = @saved_cs_client;

--
-- Table structure for table `sellers`
--

DROP TABLE IF EXISTS `sellers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `sellers` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `first_name` varchar(50) NOT NULL,
  `last_name` varchar(50) NOT NULL,
  `position_id` int unsigned NOT NULL,
  PRIMARY KEY (`id`),
  KEY `sellers_posts_id_fk` (`position_id`),
  CONSTRAINT `sellers_posts_id_fk` FOREIGN KEY (`position_id`) REFERENCES `positions` (`id`) ON DELETE RESTRICT
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Сотрудник магазина';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `sellers`
--

LOCK TABLES `sellers` WRITE;
/*!40000 ALTER TABLE `sellers` DISABLE KEYS */;
INSERT INTO `sellers` VALUES (1,'Анастасия','Петрова',2),(2,'Дмитрий','Дятлов',4),(3,'Иван','Жмыщенко',4),(4,'Степан','Разин',4),(5,'Анна','Николаева',5),(6,'Юрий','Богданов',5),(7,'Андрей','Максимов',5),(8,'Юрий','Анисимов',5),(9,'Владислав','Носков',5),(10,'Людмила','Сорокина',5);
/*!40000 ALTER TABLE `sellers` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `steps`
--

DROP TABLE IF EXISTS `steps`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `steps` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `name_step` varchar(120) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `steps_name_step_uqidx` (`name_step`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Состояния заказа';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `steps`
--

LOCK TABLES `steps` WRITE;
/*!40000 ALTER TABLE `steps` DISABLE KEYS */;
INSERT INTO `steps` VALUES (4,'Доставка'),(1,'Оплата'),(3,'Транспортировка'),(2,'Упаковка');
/*!40000 ALTER TABLE `steps` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `storehouse_products`
--

DROP TABLE IF EXISTS `storehouse_products`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `storehouse_products` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `product_id` int unsigned NOT NULL,
  `amount` tinyint unsigned DEFAULT NULL,
  `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `storehouse_products_product_id_fk` (`product_id`),
  CONSTRAINT `storehouse_products_product_id_fk` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=80 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Товар на складе';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `storehouse_products`
--

LOCK TABLES `storehouse_products` WRITE;
/*!40000 ALTER TABLE `storehouse_products` DISABLE KEYS */;
INSERT INTO `storehouse_products` VALUES (1,69,17,'1991-06-23 08:30:16','1995-12-18 19:01:31'),(2,9,0,'1980-08-14 06:25:43','1995-02-01 01:07:07'),(3,1,14,'1970-06-15 01:33:01','2003-12-06 16:47:21'),(4,61,28,'1970-01-16 11:02:10','1981-07-20 14:50:52'),(5,22,6,'1976-08-03 12:11:29','1976-08-03 12:11:29'),(6,28,8,'1991-06-03 17:07:43','1991-06-03 17:07:43'),(7,58,17,'1998-11-05 02:19:46','1998-11-05 02:19:46'),(8,19,29,'1975-02-22 21:36:21','1975-02-22 21:36:21'),(9,50,8,'1974-10-25 14:18:56','2007-07-22 15:05:32'),(10,31,25,'1977-02-17 00:42:50','1977-02-17 00:42:50'),(11,7,5,'1985-05-12 08:40:01','1985-05-12 08:40:01'),(12,14,27,'1991-04-27 02:42:06','1991-04-27 02:42:06'),(13,52,19,'2000-11-24 06:53:53','2005-01-10 14:37:53'),(14,16,28,'1981-09-03 06:14:28','1995-10-30 03:24:09'),(15,63,16,'1974-05-23 01:40:27','2017-06-16 20:02:56'),(16,77,1,'1995-11-27 05:38:16','1995-11-27 05:38:16'),(17,25,10,'1989-06-11 19:32:11','1989-06-11 19:32:11'),(18,30,28,'1993-01-31 11:21:04','2013-02-05 09:53:26'),(19,6,5,'1974-10-12 07:50:04','2007-05-08 22:45:02'),(20,75,17,'1978-08-21 03:26:35','1994-11-23 09:50:33'),(21,68,25,'1983-07-07 00:19:32','1986-11-13 09:00:02'),(22,70,4,'2008-07-20 19:58:43','2012-04-20 08:37:36'),(23,66,3,'1999-05-26 23:11:04','1999-05-26 23:11:04'),(24,59,29,'1977-05-07 12:29:29','1977-05-07 12:29:29'),(25,35,24,'1981-05-24 00:07:40','1981-05-24 00:07:40'),(26,43,29,'1996-07-17 14:22:33','1996-07-17 14:22:33'),(27,53,2,'1976-12-04 14:16:14','1991-02-09 01:01:14'),(28,33,4,'1991-06-20 02:14:45','1991-06-20 02:14:45'),(29,2,20,'1991-02-22 22:26:20','2001-10-16 13:37:08'),(30,40,25,'1985-03-11 16:39:06','1985-03-11 16:39:06'),(31,5,25,'1986-12-23 12:40:44','1994-11-15 19:14:01'),(32,37,27,'2008-09-26 13:10:50','2008-09-26 13:10:50'),(33,72,25,'1970-06-18 22:45:31','2014-11-09 23:17:06'),(34,17,17,'1989-03-04 07:46:38','1993-11-03 07:03:05'),(35,10,30,'2007-03-01 10:59:54','2011-03-02 10:40:50'),(36,47,1,'1971-10-10 01:53:18','1978-09-20 00:15:40'),(37,51,0,'1986-04-15 09:23:20','1986-04-15 09:23:20'),(38,24,24,'2005-01-24 04:23:01','2005-01-24 04:23:01'),(39,4,7,'1974-12-06 11:49:28','1974-12-06 11:49:28'),(40,65,22,'1999-03-26 00:27:46','1999-10-12 15:59:05'),(41,42,13,'1986-06-21 03:57:39','1994-06-04 10:30:00'),(42,39,15,'1971-05-25 04:56:49','1989-05-02 05:02:56'),(43,36,20,'1994-09-16 07:54:27','1994-09-16 07:54:27'),(44,8,1,'1985-01-01 20:01:47','1985-01-01 20:01:47'),(45,41,9,'1986-09-04 00:34:26','1986-09-04 00:34:26'),(46,38,10,'1992-02-21 16:36:40','1992-02-21 16:36:40'),(47,18,10,'1992-01-01 11:11:28','1992-01-01 11:11:28'),(48,55,2,'1971-04-04 06:40:33','1971-04-04 06:40:33'),(49,49,28,'1974-11-17 16:40:12','1974-11-17 16:40:12'),(50,57,25,'1977-10-01 19:23:08','1977-10-01 19:23:08'),(51,78,30,'1995-07-05 22:05:43','1995-07-05 22:05:43'),(52,21,25,'2006-05-06 00:50:15','2006-05-06 00:50:15'),(53,64,0,'2001-11-09 04:40:34','2016-08-01 16:43:17'),(54,54,10,'1979-11-14 20:18:49','1979-11-14 20:18:49'),(55,56,29,'1975-05-09 22:38:09','1975-05-09 22:38:09'),(56,74,3,'1990-11-29 04:44:04','1990-11-29 04:44:04'),(57,60,20,'2016-06-20 19:43:27','2017-08-10 22:50:44'),(58,20,16,'1991-12-27 13:01:30','1991-12-27 13:01:30'),(59,62,27,'1996-03-17 03:46:39','1996-03-17 03:46:39'),(60,13,11,'1982-10-06 22:19:36','2017-12-19 17:44:14'),(61,29,23,'1987-12-25 21:35:01','1992-12-02 14:48:14'),(62,67,20,'1980-10-19 07:05:02','2001-11-22 15:40:36'),(63,23,25,'1979-03-09 22:36:40','1987-06-11 02:15:04'),(64,32,6,'1977-09-09 22:10:22','1977-09-09 22:10:22'),(65,71,2,'1997-02-26 22:20:57','1997-02-26 22:20:57'),(66,26,7,'2000-07-03 18:45:05','2008-05-04 09:37:37'),(67,27,3,'1992-06-11 20:34:56','1999-11-24 03:50:59'),(68,76,12,'2006-06-07 01:31:13','2006-06-07 01:31:13'),(69,45,12,'1980-02-07 13:51:01','1980-02-07 13:51:01'),(70,48,11,'1991-03-02 00:32:36','1991-03-02 00:32:36'),(71,3,8,'1986-02-04 11:23:37','2004-12-21 02:04:02'),(72,11,4,'1996-05-22 19:14:59','2014-08-29 07:59:27'),(73,12,24,'1974-12-29 05:20:49','1974-12-29 05:20:49'),(74,79,7,'1993-09-26 23:09:54','1993-09-26 23:09:54'),(75,73,6,'2000-11-01 19:39:50','2003-05-08 13:21:46'),(76,46,7,'1973-10-23 18:29:34','2013-04-14 16:24:01'),(77,44,20,'1975-01-09 18:12:09','1975-01-09 18:12:09'),(78,34,18,'1974-09-24 02:31:48','2000-04-04 13:18:53'),(79,15,18,'1970-09-04 11:02:26','1970-09-04 11:02:26');
/*!40000 ALTER TABLE `storehouse_products` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `streets`
--

DROP TABLE IF EXISTS `streets`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `streets` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Улицы';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `streets`
--

LOCK TABLES `streets` WRITE;
/*!40000 ALTER TABLE `streets` DISABLE KEYS */;
INSERT INTO `streets` VALUES (1,'Азовская улица'),(2,'Автозаводская площадь'),(3,'Балтийская улица'),(4,'Востряковский проезд'),(5,'Вербная улица'),(6,'Гиляровского улица'),(7,'Долгопрудная улица'),(8,'Иркутская улица'),(9,'Каланчёвская улица'),(10,'Кантемировская улица'),(11,'Кошкина улица'),(12,'Лубянская площадь'),(13,'Лётная улица'),(14,'Марьинский бульвар'),(15,'Менделеевская улица'),(16,'Мичуринский проспект'),(17,'Никольская улица'),(18,'Новинский бульвар'),(19,'Отрадный проезд'),(20,'Планерная улица'),(21,'Пермская улица'),(22,'Ростокинская улица'),(23,'Усачёва улица');
/*!40000 ALTER TABLE `streets` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Final view structure for view `best_3_employee`
--

/*!50001 DROP VIEW IF EXISTS `best_3_employee`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8mb4 */;
/*!50001 SET character_set_results     = utf8mb4 */;
/*!50001 SET collation_connection      = utf8mb4_0900_ai_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `best_3_employee` (`Номер_сотрудника`,`Имя`,`Должность`,`Количество_продаж`) AS select `s`.`id` AS `id`,concat(`s`.`first_name`,' ',`s`.`last_name`) AS `CONCAT(first_name, ' ', last_name)`,`p`.`name` AS `name`,count(`o`.`seller_id`) AS `COUNT(o.seller_id)` from ((`sellers` `s` join `orders` `o` on((`s`.`id` = `o`.`seller_id`))) join `positions` `p` on((`s`.`position_id` = `p`.`id`))) group by `o`.`seller_id` order by count(`o`.`seller_id`) desc limit 3 */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `bigger_than_avg`
--

/*!50001 DROP VIEW IF EXISTS `bigger_than_avg`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8mb4 */;
/*!50001 SET character_set_results     = utf8mb4 */;
/*!50001 SET collation_connection      = utf8mb4_0900_ai_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `bigger_than_avg` (`Номер_заказа`,`Время_доставки`) AS select `o`.`id` AS `id`,hour(timediff(`os`.`date_step_end`,`os`.`date_step_reg`)) AS `Время_доставки` from (`orders` `o` join `order_steps` `os` on((`o`.`id` = `os`.`order_id`))) where ((`os`.`step_id` = (select `steps`.`id` from `steps` where (`steps`.`name_step` = 'Доставка'))) and (hour(timediff(`os`.`date_step_end`,`os`.`date_step_reg`)) > (select avg(hour(timediff(`os`.`date_step_end`,`os`.`date_step_reg`))) from `order_steps` `os` where (`os`.`step_id` = (select `steps`.`id` from `steps` where (`steps`.`name_step` = 'Доставка')))))) order by hour(timediff(`os`.`date_step_end`,`os`.`date_step_reg`)) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `products_description`
--

/*!50001 DROP VIEW IF EXISTS `products_description`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8mb4 */;
/*!50001 SET character_set_results     = utf8mb4 */;
/*!50001 SET collation_connection      = utf8mb4_0900_ai_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
/*!50001 VIEW `products_description` (`Идентификатор`,`Наименование`,`Описание`,`Производитель`,`Страна`,`Категория`,`Цена`,`Количество`) AS select `p`.`id` AS `id`,`p`.`name` AS `name`,`p`.`description` AS `description`,`p2`.`name` AS `name`,`p2`.`country` AS `country`,`c`.`name` AS `name`,`p`.`price` AS `price`,`sp`.`amount` AS `amount` from (((`storehouse_products` `sp` join `products` `p` on((`sp`.`product_id` = `p`.`id`))) join `producers` `p2` on((`p`.`producer_id` = `p2`.`id`))) join `catalogs` `c` on((`p`.`catalog_id` = `c`.`id`))) */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2020-08-03 22:00:13
